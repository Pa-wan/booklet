I will present a new method for high-resolution nanoscale magnetic resonance imaging that combines the high spin sensitivity of nanowire-based force detection with the high spectral resolution of NMR spectroscopy. I will discuss the development of NMR pulses designed using optimal control theory (OCT) that enable high fidelity unitary operations to be implemented on nanoscale nuclear spin ensembles.  One important capability in the realization high fidelity spin control is the ability to control the average spin Hamiltonians during the unitary evolution.  Using OCT pulses that incorporate average Hamiltonian theory, we demonstrate a factor of 500 reduction of the proton spin resonance linewidth in a (50~nm)$^3$ volume of polystyrene, and image proton spins in one dimension with a spatial resolution below 2~nm \cite{1707.01062v1}. I will discuss the application of these ideas to harness a broad range of high-resolution NMR techniques in the nano-MRI setting.